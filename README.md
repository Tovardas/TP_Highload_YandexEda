# TP_Highload_YandexEda
## 1. Тема и целевая аудитория
### Тема

Яндекс Еда - сервис заказа еды из кафе, ресторанов, продуктовых магазинов

### Целевая аудитория

 Каждый месяц Яндекс Едой пользуется 15 млн пользователей в более чем 400 городах[^1]. Количество пользователей в день нигде не раскрывается, но на основе данных к концу 2020 года - к началу 2021 с 250 тыс заказами в день и кратным ростом ежемесячной аудитории, можно сделать вывод, что кол-во ежедневных пользователей так же возросло и превысило 1 млн[^2].
 
### Аналоги

- Сбермаркет
- Самокат
- ВкусВилл
 
### Страны, в которых работает сервис

+ Россия 
+ Беларусь 
+ Казахстан 
+ Узбекистан 
+ Армения

### Ключевой функционал

- Регистрация и авторизация
- Просмотр ассортеминта ресторанов/магазинов
- Написание и чтение отзыва с оценкой
- Просмотр рейтинга с выбором источника оценок (Яндекс Еда или Яндекс Карты)
- Поиск
- Определение геопозиции клиента/курьера
- Выкладывать фото, видео и описание блюд/товаров/ресторанов


### Ключевые продуктовые решения

- Отслеживание статуса заказа и местоположения курьера в реальном времени
- Поиск объединяет товары, рестораны и блюда
- Разбиение зоны доставки на зоны с точками питания

## 2. Расчет нагрузки

- MAU - 15 млн [^1]
- DAU - 3 млн (данные, которые были взяты из предположения или примерные величины, полученные опытным путем)
- Среднее время использования приложения за день - 45 минут (учитывая составление заказа + отслеживание курьерской доставки)
- Количество заказов в день - 1 млн 
- За последний год в "Яндекс Еда" регистрировалось более 5 тысяч новых пользователей каждый день
- Коэффициент соотношения пикового трафика к среднему k= 2.3 (рассчитано на основе [^3])
- За 5 минут постоянно листая в среднем получается 500 КБ на все запросы для просмотра ленты (Примерно)
- Пользователь в среденем комментирует каждый 5ый заказ (тк значительная часть пользователей не осталвяют отзывы)

### Продуктовые метрики
#### Рассчет в штуках данных 
Личные данные: 1 запись. (в год)
История заказов: 8 (в неделю)
Платёжные данные: 1 штука. (в год)
Отзывы: 2 (в неделю)

Кол-во ресторанов - 420 [^1]
Кол-во позиций в ресторане - 73

#### Рассчет в байтах данных 

- Личные данные: 1 КБ.
- История заказов: 8 заказов по 1,5 КБ =12 КБ.
- Платёжные данные: 0,5 КБ.
- Отзывы: 2 КБ.

- Размер фото (средний) - 16 Кб
- Размер текстовой информации - 1Кб

Итого за 5 лет:
На одного пользователя:
- Личные данные: 5 записей - 5 КБ
- История заказов: 2080 - 3120 КБ
- Платёжные данные: 5 - 5КБ
- Отзывы: 520 - 520кб
- Сумма: 3650 КБ
На один ресторан(учитывая, что половина позиций меняется за год):
- Фото: 16 * 2,5 * 73 = 2920 КБ
- Текстовая информация: 185 КБ (Аналогично)
- Сумма: 3105 КБ
На всех пользователей:
15 млн * 3650 КБ = 51 ТБ
На все рестораны:
3105 КБ * 420 = 1.3 ТБ

### Источники

[^1]: [Что такое Яндекс Еда](https://dev.go.yandex/services/eda)
[^2]: [Битва за еду: как Delivery Club и «Яндекс.Еда» перекраивают рынок во время пандемии](https://www.forbes.ru/biznes/417203-bitva-za-edu-kak-delivery-club-i-yandekseda-perekraivayut-rynok-vo-vremya-pandemii)
